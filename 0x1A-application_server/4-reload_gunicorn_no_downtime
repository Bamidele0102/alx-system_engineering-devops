#!/bin/bash

# Get the PID of the Gunicorn master process
GUNICORN_PID=$(pgrep -f 'gunicorn --bind')

# Check if the PID was found
if [ -z "$GUNICORN_PID" ]; then
  echo "Gunicorn master process not found."
  exit 1
fi

# Send SIGHUP to the Gunicorn master process to reload it gracefully
kill -HUP "$GUNICORN_PID"

echo "Sent SIGHUP to Gunicorn master process (PID: $GUNICORN_PID)."
