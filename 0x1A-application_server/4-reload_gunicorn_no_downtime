#!/usr/bin/env bash
# Gracefully reloads Gunicorn.

# Find the PIDs of Gunicorn master processes and send them SIGHUP
pids=$(pgrep -f gunicorn)

if [ -z "$pids" ]; then
    echo "No Gunicorn processes found."
    exit 1
fi

echo "Reloading Gunicorn processes: $pids"
echo "$pids" | xargs -r kill -HUP
